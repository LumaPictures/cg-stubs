import ast
from _typeshed import Incomplete
from argparse import ArgumentParser
from pathlib import Path

DESCRIPTION: str
REVISION: int
CPP_TYPE_MAPPING: Incomplete
QML_IMPORT_NAME: str
QML_IMPORT_MAJOR_VERSION: str
QML_IMPORT_MINOR_VERSION: str
QT_MODULES: str
ITEM_MODELS: Incomplete
QOBJECT_DERIVED: Incomplete
AstDecorator = ast.Name | ast.Call
AstPySideTypeSpec = ast.Name | ast.Constant
ClassList = list[dict]
PropertyEntry = dict[str, str | int | bool]
Argument = dict[str, str]
Arguments = list[Argument]
Signal = dict[str, str | Arguments]
Slot = dict[str, str | Arguments]

def _decorator(name: str, value: str) -> dict[str, str]: ...
def _attribute(node: ast.Attribute) -> tuple[str, str]: ...
def _name(node: ast.Name | ast.Attribute | ast.Constant) -> str: ...
def _func_name(node: ast.Call) -> str: ...
def _python_to_cpp_type(type: str) -> str: ...
def _parse_property_kwargs(keywords: list[ast.keyword], prop: PropertyEntry): ...
def _parse_assignment(node: ast.Assign) -> tuple[str | None, ast.AST | None]: ...
def _parse_pyside_type(type_spec: AstPySideTypeSpec) -> str: ...
def _parse_call_args(call: ast.Call): ...
def _parse_slot(func_name: str, call: ast.Call) -> Slot: ...

class VisitorContext:
    qobject_derived: Incomplete
    def __init__(self) -> None: ...

class MetaObjectDumpVisitor(ast.NodeVisitor):
    _context: Incomplete
    _json_class_list: ClassList
    _properties: list[PropertyEntry]
    _signals: list[Signal]
    _within_class: bool
    _qt_modules: set[str]
    _qml_import_name: str
    _qml_import_major_version: int
    _qml_import_minor_version: int
    def __init__(self, context: VisitorContext) -> None: ...
    def json_class_list(self) -> ClassList: ...
    def qml_import_name(self) -> str: ...
    def qml_import_version(self) -> tuple[int, int]: ...
    def qt_modules(self): ...
    @staticmethod
    def create_ast(filename: Path) -> ast.Module: ...
    def visit_Assign(self, node: ast.Assign): ...
    _slots: Incomplete
    def visit_ClassDef(self, node: ast.Module): ...  # type: ignore[override]
    def visit_FunctionDef(self, node) -> None: ...
    def _parse_class_decorator(self, node: AstDecorator, class_decorators: list[dict]): ...
    def _index_of_property(self, name: str) -> int: ...
    def _create_property_entry(self, name: str, type: str, getter: str | None = None) -> PropertyEntry: ...
    def _parse_function_decorator(self, func_name: str, node: AstDecorator): ...
    def _parse_class_variable(self, node: ast.Assign): ...
    def visit_Import(self, node) -> None: ...
    def visit_ImportFrom(self, node) -> None: ...
    def _handle_import(self, mod: str): ...

def create_arg_parser(desc: str) -> ArgumentParser: ...
def parse_file(file: Path, context: VisitorContext, suppress_file: bool = False) -> dict | None: ...
