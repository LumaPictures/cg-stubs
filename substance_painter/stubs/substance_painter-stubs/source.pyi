import dataclasses
from .colormanagement import Color as Color, ResourceColorSpace as ResourceColorSpace
from .properties import Property as Property, PropertyValue as PropertyValue
from _typeshed import Incomplete
from enum import Enum
from substance_painter import layerstack as layerstack, levels as levels
from substance_painter._utility import ReadOnlyUid as ReadOnlyUid
from substance_painter.levels import LevelsParams as LevelsParams
from substance_painter.resource import ResourceID as ResourceID
from substance_painter.textureset import ChannelType as ChannelType

from _substance_painter.source import SourceMode as SourceMode

class FontResolutionMode(Enum):
    Auto = ...
    Manual = ...

from _substance_painter.source import HorizontalAlignment as HorizontalAlignment
from _substance_painter.source import VerticalAlignment as VerticalAlignment

class VectorialResolutionMode(Enum):
    Auto = ...
    Document = ...
    Manual = ...

from _substance_painter.source import CropAreaMode as CropAreaMode
from _substance_painter.source import AlphaMatte as AlphaMatte

class ActiveChannelsMixin:
    @property
    def active_channels(self) -> set[ChannelType]: ...
    @active_channels.setter
    def active_channels(self, channels: set[ChannelType]) -> None: ...

class SourceEditorMixin(ActiveChannelsMixin):
    @property
    def source_mode(self) -> SourceMode: ...
    def get_source(self, channeltype: ChannelType | None = None) -> Source: ...
    def set_source(self, channeltype: ChannelType | None, source: ResourceID | Color | layerstack.AnchorPointEffectNode) -> Source: ...  # type: ignore[name-defined]
    def reset_source(self, channeltype: ChannelType | None = None) -> None: ...
    def get_material_source(self) -> SourceSubstance | SourceReference: ...
    def set_material_source(self, source: ResourceID | layerstack.AnchorPointEffectNode) -> SourceSubstance | SourceReference: ...  # type: ignore[name-defined]
    def reset_material_source(self) -> None: ...
    def set_sources_from_preset(self, preset: ResourceID) -> None: ...

class SourceUniformColor(ReadOnlyUid):
    def get_color(self) -> Color: ...
    def set_color(self, color: Color) -> None: ...

class SourceBitmap(ReadOnlyUid):
    @property
    def resource_id(self) -> ResourceID: ...
    def get_color_space(self) -> ResourceColorSpace: ...
    def set_color_space(self, color_space: ResourceColorSpace): ...
    def reset_color_space(self) -> None: ...
    def list_available_color_spaces(self) -> list[ResourceColorSpace]: ...

@dataclasses.dataclass
class SourceFontParams:
    text: str | None
    auto_size: bool
    size: float | None
    horizontal_alignment: HorizontalAlignment
    vertical_alignment: VerticalAlignment
    color: Color
    background_color: Color
    background_opacity: float | None
    line_spacing: float
    character_spacing: float
    offset: tuple[float, float]
    resolution_mode: FontResolutionMode
    resolution_value: tuple[int, int]
    def __setattr__(self, __name: str, /, __value: dataclasses.Any) -> None: ...  # type: ignore[name-defined]

class SourceFont(ReadOnlyUid):
    @property
    def resource_id(self) -> ResourceID: ...
    def get_parameters(self) -> SourceFontParams: ...
    def set_parameters(self, params: SourceFontParams) -> None: ...

@dataclasses.dataclass
class SourceVectorialParams:
    artboard_id: str | None
    scope: str | None
    resolution_mode: VectorialResolutionMode
    resolution_value: tuple[int, int]
    crop_area_mode: CropAreaMode
    crop_area_value: tuple[float, float, float, float]
    fit_to_square: bool = ...
    def __setattr__(self, __name: str, /, __value: dataclasses.Any) -> None: ...  # type: ignore[name-defined]

class SourceVectorial(ReadOnlyUid):
    @property
    def resource_id(self) -> ResourceID: ...
    def get_parameters(self) -> SourceVectorialParams: ...
    def set_parameters(self, params: SourceVectorialParams) -> None: ...

class OutputMappingIterator:
    keys: Incomplete
    iterator: Incomplete
    def __init__(self, uid) -> None: ...
    def __iter__(self): ...
    def __next__(self): ...

class OutputMapping(ReadOnlyUid):
    def __getitem__(self, key: ChannelType) -> ChannelType: ...
    def __setitem__(self, key: ChannelType, value: str) -> None: ...
    def __len__(self) -> int: ...
    def __contains__(self, key: ChannelType) -> bool: ...
    def __iter__(self) -> OutputMappingIterator: ...

class SourceSubstance(ReadOnlyUid):
    @property
    def resource_id(self) -> ResourceID: ...
    @property
    def output_mapping(self) -> OutputMapping: ...
    @property
    def active_output(self) -> str: ...
    @active_output.setter
    def active_output(self, identifier: str) -> None: ...
    @property
    def mask_output(self) -> str: ...
    @mask_output.setter
    def mask_output(self, identifier: str) -> None: ...
    @property
    def image_inputs(self) -> list[str]: ...
    @property
    def image_outputs(self) -> list[str]: ...
    def get_source(self, identifier: str) -> Source: ...
    def set_source(self, identifier: str, source: ResourceID | Color | layerstack.AnchorPointEffectNode) -> Source: ...  # type: ignore[name-defined]
    def reset_source(self, identifier: str) -> None: ...
    def remove_source(self, identifier: str) -> None: ...
    def get_parameters(self) -> dict[str, PropertyValue]: ...
    def set_parameters(self, property_values: dict[str, PropertyValue]) -> None: ...
    def get_properties(self) -> dict[str, Property]: ...
    def get_preset_list(self) -> list[str]: ...
    def apply_preset(self, name: str): ...

class ChannelMappingIterator:
    keys: Incomplete
    iterator: Incomplete
    def __init__(self, uid) -> None: ...
    def __iter__(self): ...
    def __next__(self): ...

class ChannelMapping(ReadOnlyUid):
    def __getitem__(self, key: ChannelType) -> ChannelType: ...
    def __setitem__(self, key: ChannelType, value: ChannelType) -> None: ...
    def __len__(self) -> int: ...
    def __contains__(self, key: ChannelType) -> bool: ...
    def __iter__(self) -> ChannelMappingIterator: ...

class SourceReference(ReadOnlyUid):
    @property
    def channel_mapping(self) -> ChannelMapping: ...
    @property
    def referenced_channel(self) -> ChannelType: ...
    @referenced_channel.setter
    def referenced_channel(self, channeltype: ChannelType) -> None: ...
    @property
    def anchor(self) -> layerstack.AnchorPointEffectNode: ...  # type: ignore[name-defined]
    @property
    def alpha_matte(self) -> AlphaMatte: ...
    @alpha_matte.setter
    def alpha_matte(self, alpha_matte: AlphaMatte): ...
    def get_levels(self) -> LevelsParams: ...
    def set_levels(self, params: LevelsParams) -> None: ...
Source = SourceUniformColor | SourceBitmap | SourceVectorial | SourceSubstance | SourceReference | SourceFont
